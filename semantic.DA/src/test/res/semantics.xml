<?xml version="1.0" encoding="UTF-8"?>
<semantics>
  <t id="semantics" pk="id" columns="id,smtc,tabl,pk,args">
  <!-- smtc: semantics type, e.g. auto: auto increase key.
  			see javadoc: https://odys-z.github.io/javadoc/semantic.DA/io/odysz/semantic/DASemantics.smtype.html 
  		tabl: database table name
  		pk:
  		args: arguments for sementics handlers. For args for different handlers, see above javadoc link.
   -->
  	<s>
  		<id>01</id>
  		<smtc>pk</smtc>
  		<tabl>a_functions</tabl>
  		<pk>funcId</pk>
  		<args>funcId</args>
  	</s>
  	<s>
  		<id>02</id>
  		<smtc>fullpath</smtc>
  		<tabl>a_functions</tabl>
  		<pk>funcId</pk>
  		<args>parentId,sibling,fullpath</args>
  	</s>
  	<s>
  		<id>11</id>
  		<smtc>pk</smtc>
  		<tabl>a_roles</tabl>
  		<pk>roleId</pk>
  		<args>roleId</args>
  	</s>
  	<s>
  		<id>12</id>
  		<smtc>pkref</smtc>
  		<tabl>a_role_func</tabl>
  		<pk></pk>
  		<args>roleId,a_roles,roleId</args>
  	</s>
  	<s>
  		<id>22</id>
  		<smtc>pc-del-all</smtc>
  		<tabl>a_functions</tabl>
  		<pk>funcId</pk>
  		<args>funcId,a_role_func,funcId</args>
  	</s>
  	<s>
  		<id>23</id>
  		<smtc>ck-cnt-del</smtc>
  		<tabl>a_roles</tabl>
  		<pk>roleId</pk>
  		<args>a_role_func,
  		select count(*) cnt from a_rolefunc where roleId = '%s'
  		,cnt</args>
  	</s>
	<!-- User.log() don't use this configure file, but should be OK - never used
  	<s>
  		<id>34</id>
  		<smtc>o-t</smtc>
  		<tabl>a_logs</tabl>
  		<pk>logId</pk>
  		<args></args>
  	</s> -->
  	
  	<s>
  		<id>41</id>
  		<smtc>autopk</smtc>
  		<tabl>crs_a</tabl>
  		<pk>aid</pk>
  		<args>aid</args>
  	</s>
  	<s>
  		<id>42</id>
  		<smtc>autopk</smtc>
  		<tabl>crs_b</tabl>
  		<pk>bid</pk>
  		<args>bid</args>
  	</s>
  	<s>
  		<id>43</id>
  		<smtc>pkref</smtc>
  		<tabl>crs_a</tabl>
  		<pk>aid</pk>
  		<args>afk,crs_b,bid</args>
  	</s>
  	<s>
  		<id>44</id>
  		<smtc>pkref</smtc>
  		<tabl>crs_b</tabl>
  		<pk>bid</pk>
  		<args>bfk,crs_a,aid</args>
  	</s>
  	
  	<!-- a_user.userId auto key -->
  	<s>
  		<id>50</id>
  		<smtc>autopk</smtc>
  		<tabl>a_users</tabl>
  		<pk>userId</pk>
  		<args>userId</args>
  	</s>
  	<!-- a_user.pswd default value -->
  	<s>
  		<id>51</id>
  		<smtc>dv</smtc>
  		<tabl>a_users</tabl>
  		<pk>userId</pk>
  		<args>pswd,123456</args>
  	</s>
	<!-- a_user.userName check same on insert -->
  	<s>
  		<id>52</id>
  		<smtc>ck-cnt-ins</smtc>
  		<tabl>a_users</tabl>
  		<pk>userId</pk>
  		<!--separated by ",".
  			0, 1, ... : the field name of which it's value will be used for formatting sql;
  			length - 1: the last one is sql (no ","), and is highly recommend using %[argument_index$] in format string -->
  		<args>userName,select count(userName) from a_users where userName = '%1$s'</args>
  	</s>
	<!-- a_role.roleId - a_role_func delete all children on delete -->
  	<s>
  		<id>53</id>
  		<smtc>pc-del-all</smtc>
  		<tabl>a_roles</tabl>
  		<pk>roleId</pk>
  		<!-- 1. delete from a_role_func where roleId = 'roleId' (r-op resulved from request)
  			 2. delete from a_users where a_users.roleId = 'roleId' (r-op resulved from request)
  			 [0] col or a__roles (a_roles.roleId's value will be used)
  			 [1] child table
  			 [2] child pk (or condition column)
  		 -->
  		<args>roleId a_role_func roleId,
  			roleId a_users roleId
  		</args>
  	</s>
  </t>
</semantics>